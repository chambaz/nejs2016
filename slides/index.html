<html>
	<head>
		<title>NEJS 2016 - JavaScript &amp; the WebAudio API</title>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
		<link rel="stylesheet" href="/slides/dist/app.css" />
	</head>
	<body>

		<div class="reveal">
			<div class="slides">

				<section data-transition="fade">
					<h1 class="title">JavaScript and<br />the WebAudio API</h1>
				</section>

				<section data-transition="fade">
					<h1 class="title--medium">Synthesizing, manipulating,
					and controlling audio.</h1>
				</section>

				<section data-transition="fade">
					<h1 class="title">Audio = Math</h1>
				</section>

				<section data-transition="fade">
					<h1 class="title--small">A synthesizer in the browser.</h1>
					<p>Synthesizer image</p>
				</section>

				<section data-transition="fade">
					<h1 class="title">AudioContext</h1>
					<pre class="fragment"><code class="js" data-trim>
// create web audio context
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
					</code></pre>
				</section>

				<section data-autoslide="1000" data-transition="fade">
					<h1 class="title--medium">Browser Support</h1>
					<div class="fragment">
						<ul class="support-list">
							<li class="support-list__item">
								<i class="fa fa-chrome" aria-hidden="true"></i>
								<i class="support-list__icon--supported fa fa-check" aria-hidden="true"></i>
							</li>
							<li class="support-list__item">
								<i class="fa fa-firefox" aria-hidden="true"></i>
								<i class="support-list__icon--supported fa fa-check" aria-hidden="true"></i>
							</li>
							<li class="support-list__item">
								<i class="fa fa-safari" aria-hidden="true"></i>
								<i class="support-list__icon--half-supported fa fa-check" aria-hidden="true"></i>
							</li>
							<li class="support-list__item">
								<i class="fa fa-edge" aria-hidden="true"></i>
								<i class="support-list__icon--supported fa fa-check" aria-hidden="true"></i>
							</li>
							<li class="support-list__item">
								<i class="fa fa-internet-explorer" aria-hidden="true"></i>
								<i class="support-list__icon--not-supported fa fa-times" aria-hidden="true"></i>
							</li>
						</ul>
					</div>
				</section>

				<section data-transition="fade">
					<h1 class="title--medium">Connecting Nodes</h1>
					<p>Guitar pedal image</p>
				</section>

				<section data-transition="fade">
					<h1 class="title--medium">Routing Graph</h1>
					<ul class="node-list">
						<li class="node-list__item">
							Source
						</li>
						<li class="node-list__arrow">
							<i class="fa fa-arrow-right" aria-hidden="true"></i>
						</li>
						<li class="node-list__item">
							Processing
						</li>
						<li class="node-list__arrow">
							<i class="fa fa-arrow-right" aria-hidden="true"></i>
						</li>
						<li class="node-list__item">
							Processing
						</li>
						<li class="node-list__arrow">
							<i class="fa fa-arrow-right" aria-hidden="true"></i>
						</li>
						<li class="node-list__item">
							Output
						</li>
					</ul>
				</section>

				<section data-transition="fade">
					<section data-transition="fade">
						<h1 class="title">Source Nodes</h1>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Media Element</h1>
						<pre><code class="js" data-trim>
// create web audio context
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// audio element as source
const source = document.querySelector('audio');

// create media element source nodes
const mediaElementSource = audioCtx.createMediaElementSource(sourceElements.audio);

// connect source nodes to output
sources.audio.connect(audioCtx.destination);
						</code></pre>
						<a class="btn" href="/examples/sources/media-element.html" target="_blank">
							View Example
						</a>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Media Stream</h1>
						<pre><code class="js" data-trim>
// create web audio context
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// get user microphone input
navigator.mediaDevices.getUserMedia({
	audio: true,
}).then(stream => {
	// create media stream from mic input and connect to output
	mediaStream = audioCtx.createMediaStreamSource(stream);

	// connect media stream to output
	mediaStream.connect(audioCtx.destination);
});
						</code></pre>
						<a class="btn" href="/examples/sources/media-stream.html" target="_blank">
							View Example
						</a>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Audio Buffer</h1>
						<pre><code class="js" data-trim>
// create web audio context
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

// create two second, stereo audio buffer
const buffer = audioCtx.createBuffer(2, audioCtx.sampleRate * 2.0, audioCtx.sampleRate);

// create buffer source node
const bufferSource = audioCtx.createBufferSource();

// get stereo channel data
const channels = [
	buffer.getChannelData(0),
	buffer.getChannelData(1),
];

// fill each channel of the buffer with white noise
channels.forEach(channel => {
	buffer.getChannelData(channel).forEach((val, key, arr) => {
		arr[key] = Math.random() * 2 - 1;
	});
})

// set the source buffer
bufferSource.buffer = buffer;

// connect buffer to output
bufferSource.connect(audioCtx.destination);

// start the source playing
bufferSource.start(0);
						</code></pre>
						<a class="btn" href="/examples/sources/audio-buffer.html" target="_blank">
							View Example
						</a>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Audio Buffer Decode</h1>
						<pre><code class="js" data-trim>
// create web audio context
const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

let bufferSource, buffer;

// fetch mp3
fetch('/assets/digitalsurgeons.mp3')

// fetch as array buffer
.then(response => {
	return response.arrayBuffer();
})
// decode audio data from array buffer
.then(arrayBuffer => {
	return audioCtx.decodeAudioData(arrayBuffer);
})
// create new buffer, connect to output and play
.then(arrayBuffer => {
	buffer = decodedAudio;
	bufferSource = audioCtx.createBufferSource();
	bufferSource.buffer = buffer;
	bufferSource.connect(audioCtx.destination);
	bufferSource.start(0);
});
						</code></pre>
						<a class="btn" href="/examples/sources/audio-buffer.html" target="_blank">
							View Example
						</a>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Oscillator</h1>
					</section>
				</section>

				<section data-transition="fade">
					<section data-transition="fade">
						<h1 class="title">Processing Nodes</h1>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Gain</h1>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Delay</h1>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Biquad Filter</h1>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Wave Shaper</h1>
					</section>

					<section data-transition="fade">
						<h1 class="title--medium">Convolver</h1>
					</section>
				</section>

				<section data-transition="fade">
					<h1 class="title">WebAudio IRL</h1>
				</section>
			</div>
		</div>

		<script src="https://cdnjs.cloudflare.com/ajax/libs/headjs/0.96/head.min.js"></script>
		<script src="/slides/dist/app.js"></script>
	</body>
</html>
