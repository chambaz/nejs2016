<html>
	<head>
		<title>NEJS 2016 - Game Design</title>

		<style>
		body {
			height: 100%;
			width: 100%;
			margin: 0;
			background: #aaa;
		}

		.goody {
			width: 50px;
			height: 50px;
			background: blue;
			position: absolute;
			top: 30%;
			right: 80px;
			z-index: 2;
			transition: .3s;
		}

		.baddy {
			width: 50px;
			height: 50px;
			background: black;
			position: absolute;
			top: 0;
			left: 0;
			z-index: 2;
			transition: .3s;
		}
		</style>
	</head>
	<body>

		<div data-baddy class="baddy"></div>
		<div data-goody class="goody"></div>

		<script>
			// create web audio context
			const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

			// DOM nodes
			const ui = {
				goody: document.querySelector('[data-goody]'),
				baddy: document.querySelector('[data-baddy]'),
			};

			// move baddy on key down
			document.addEventListener('keydown', e => {

				// calculate current position
				const coords = {
					top: Number(ui.baddy.style.top.replace(/px/, '')),
					left: Number(ui.baddy.style.left.replace(/px/, '')),
				};

				switch(e.keyCode) {
					// left
					case 37:
						ui.baddy.style.left = `${coords.left - 20}px`;
					break;

					// up
					case 38:
						ui.baddy.style.top = `${coords.top - 20}px`;
					break;

					// right
					case 39:
						ui.baddy.style.left = `${coords.left + 20}px`;
					break;

					// down
					case 40:
						ui.baddy.style.top = `${coords.top + 20}px`;
					break;
				}
			});

		</script>
	</body>
</html>
