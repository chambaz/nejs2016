<html>
	<head>
		<title>NEJS 2016 - Oscillator Node</title>
	</head>
	<body>
		<p>Open the console</p>

		<audio
			src="assets/digitalsurgeons.mp3"
			controls
			data-audio-source>
		</audio>

		<script>
			// create web audio context
			const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

			// query DOM nodes used as audio source
			const sourceElements = {
				audio: document.querySelector('[data-audio-source]'),
			};

			// create media element source nodes
			const sources = {
				audio: audioCtx.createMediaElementSource(sourceElements.audio),
			};

			// connect source nodes to audio destination
			sources.audio.connect(audioCtx.destination);

			console.log(sources);
		</script>
	</body>
</html>
